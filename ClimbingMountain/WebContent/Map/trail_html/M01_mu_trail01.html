<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>관광명소 테스트</title>
</head>
<body>

	<div class="map_wrap">
		<div id="map" style="width: 100%; height: 650px;"></div>


		<!-- 지도 확대, 축소 컨트롤 div 입니다 -->
		<div class="custom_zoomcontrol radius_border">
			<span onclick="zoomIn()"><img
				src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_plus.png"
				alt="확대"></span> <span onclick="zoomOut()"><img
				src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_minus.png"
				alt="축소"></span>
		</div>



		<!-- 지도타입 컨트롤 div 입니다 -->
		<div class="custom_typecontrol radius_border">
			<span id="btnRoadmap" class="selected_btn"
				onclick="setMapType('roadmap')">지도</span> <span id="btnSkyview"
				class="btn" onclick="setMapType('skyview')">스카이뷰</span>
		</div>



		<!-- 카테고리별 장소 검색하기 -->
		<!-- cultural_facilities, Tourist_attraction, accommodation -->
		<ul id="category">
			<li id="OL7" data-order="0"><span class="category_bg parking"></span>
				주유소</li>
			<li id="CT1" data-order="1"><span class="category_bg culture"></span>
				문화</li>
			<li id="AT4" data-order="2"><span
				class="category_bg sightseeing"></span> 관광</li>
			<li id="AD5" data-order="3"><span
				class="category_bg accommodation"></span> 숙박</li>
			<li id="FD6" data-order="4"><span class="category_bg restaurant"></span>
				음식점</li>
			<li id="CE7" data-order="5"><span class="category_bg cafe"></span>
				카페</li>
			<li id="HP8" data-order="6"><span class="category_bg hospital"></span>
				병원</li>
		</ul>



		<div>
			<!-- 등산로 보기 버튼, 지형보기 버튼,   -->
			<button id="trail_btn"
				style="text-shadow: 0px 1px 0px #283966; position: absolute; top: 80px; bottom: 0px; left: 10px; right: 0px; overflow: hidden; width: 135px; height: 45px; margin: 0; padding: 0; z-index: 1; font-size: 18px; font-family: 'Malgun Gothic', '맑은 고딕', sans-serif; font-weight: bold; color: black; background: #4d5f7c; border-radius: 1em; padding: 0;"
				onclick="setBounds(),customOverlay.setMap(map);">
				<a href="#" class="myButton">등산로 보기</a>
			</button>

			<!-- 지형 토글 버튼 -->
			<label class="map_switch"
				style="position: absolute; z-index: 2; top: 10px; right: 150px;">
				<input type="checkbox" id="chkTerrain"
				onclick="setOverlayMapTypeId()" /> <span class="slider round"></span>
			</label>

			<!-- '지형' 이라는 text -->
			<div
				style="position: absolute; z-index: 1; top: 10px; right: 158px; color: white; width: 70px; border-radius: 20px; padding: 9px 15px; font-size: 12px; background-color: #4d5f7c;">지형
			</div>

			<!-- 깃발 토글 버튼  -->
			<label class="map_switch"
				style="position: absolute; z-index: 2; top: 10px; right: 270px;">

				<!-- '깃발' 이라는 text -->
				<div
					style="position: absolute; z-index: 0; top: 0px; right: 8px; color: white; width: 70px; border-radius: 20px; padding: 9px 15px; font-size: 12px; background-color: #4d5f7c;">깃발
				</div> <input type="checkbox" id="STmarker" onclick="setST_Markers()" />
				<span class="slider round"></span>
			</label>




			<!-- 행정동 주소 정보 -->
			<div class="hAddr">
				<span class="map_add_title">지도중심기준 행정동 주소정보</span> <span
					id="centerAddr"></span>
			</div>

		</div>

		<script type="text/javascript"
			src="//dapi.kakao.com/v2/maps/sdk.js?appkey=570ba83ef799797bed963963c7518be2&libraries=clusterer&libraries=services"></script>
		<script>
			var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			mapOption = {
				center : new kakao.maps.LatLng(35.317068711991006,
						126.86217720529942), // 지도의 중심좌표
				level : 5, // 지도의 확대 레벨
				mapTypeId : kakao.maps.MapTypeId.ROADMAP
			// 지도종류
			};

			// 지도를 생성한다 
			var map = new kakao.maps.Map(mapContainer, mapOption);

			var trail_list = [
				
			// 1. 새인봉
			[ [ 35.119171656, 127.003800511 ], [ 35.119151022, 127.003796608 ],
					[ 35.119081707, 127.003761063 ],
					[ 35.119007437, 127.003703796 ],
					[ 35.118945243, 127.003663424 ],
					[ 35.118825274, 127.003605389 ],
					[ 35.118720265, 127.003571598 ],
					[ 35.118649329, 127.003555141 ],
					[ 35.118565051, 127.003545595 ],
					[ 35.118473654, 127.003545592 ],
					[ 35.118402266, 127.003526612 ],
					[ 35.118375856, 127.00351619 ],
					[ 35.118345842, 127.00348668 ],
					[ 35.118312131, 127.003443677 ],
					[ 35.118249308, 127.003360522 ],
					[ 35.118200005, 127.003307644 ],
					[ 35.118165032, 127.003272979 ],
					[ 35.118115999, 127.00324281 ],
					[ 35.11807679, 127.00323151 ],
					[ 35.118025322, 127.003207265 ],
					[ 35.117978182, 127.003169198 ],
					[ 35.117862899, 127.00305785 ],
					[ 35.11776285, 127.002948587 ],
					[ 35.117671633, 127.002850075 ],
					[ 35.117660907, 127.002814532 ],
					[ 35.117663071, 127.002760779 ],
					[ 35.117656582, 127.002700992 ],
					[ 35.11764162, 127.002668082 ],
					[ 35.117615211, 127.002630784 ],
					[ 35.11757519, 127.002597873 ],
					[ 35.117550944, 127.002572752 ],
					[ 35.117531475, 127.002533479 ],
					[ 35.117514801, 127.002477203 ],
					[ 35.117496954, 127.002425096 ],
					[ 35.117476674, 127.002389004 ],
					[ 35.117435031, 127.002328339 ],
					[ 35.117413579, 127.002312433 ],
					[ 35.117385006, 127.002321099 ],
					[ 35.117345706, 127.002323951 ],
					[ 35.117313528, 127.00231671 ],
					[ 35.117295681, 127.002303765 ],
					[ 35.117274228, 127.002280619 ],
					[ 35.117257554, 127.002237287 ],
					[ 35.1172279, 127.002073286 ],
					[ 35.117225467, 127.001947461 ],
					[ 35.117235021, 127.001863651 ],
					[ 35.117242143, 127.001765361 ],
					[ 35.117234572, 127.001705685 ],
					[ 35.117209514, 127.001603773 ],
					[ 35.117209514, 127.001537296 ],
					[ 35.117216635, 127.001481679 ],
					[ 35.117251698, 127.001354208 ],
					[ 35.117292339, 127.00124914 ],
					[ 35.117292348, 127.001249115 ],
					[ 35.117374643, 127.001109249 ],
					[ 35.117396726, 127.001035312 ],
					[ 35.117410156, 127.000986714 ],
					[ 35.117432871, 127.00086429 ],
					[ 35.11745297, 127.000784867 ],
					[ 35.117473521, 127.000727495 ],
					[ 35.117497226, 127.000686357 ],
					[ 35.117575463, 127.000546599 ],
					[ 35.117621341, 127.000456534 ],
					[ 35.117676414, 127.00034124 ],
					[ 35.117739958, 127.000223531 ],
					[ 35.117749514, 127.000206129 ],
					[ 35.117706699, 127.000169119 ],
					[ 35.117682722, 127.000166267 ],
					[ 35.117671906, 127.000169449 ],
					[ 35.117582581, 127.000181408 ],
					[ 35.117519486, 127.000180093 ],
					[ 35.117485775, 127.000166928 ],
					[ 35.117456841, 127.000148062 ],
					[ 35.117424572, 127.000106266 ],
					[ 35.117404652, 127.000061838 ],
					[ 35.117392031, 127.00002092 ],
					[ 35.117387795, 126.999983404 ],
					[ 35.117387794, 126.999903652 ],
					[ 35.117393742, 126.999854945 ],
					[ 35.117403656, 126.999796366 ],
					[ 35.117425198, 126.999715516 ],
					[ 35.117505505, 126.999471872 ],
					[ 35.117535159, 126.999374238 ],
					[ 35.117535699, 126.999363378 ],
					[ 35.117533716, 126.999356576 ],
					[ 35.117527947, 126.999350215 ],
					[ 35.117518753, 126.999343852 ],
					[ 35.117486935, 126.999335516 ],
					[ 35.117417259, 126.999321367 ],
					[ 35.117354975, 126.999297014 ],
					[ 35.117348665, 126.999296576 ],
					[ 35.117343618, 126.999296576 ],
					[ 35.117326402, 126.999300964 ],
					[ 35.117232211, 126.999351209 ],
					[ 35.117174614, 126.99938061 ],
					[ 35.117151179, 126.999389936 ],
					[ 35.117097098, 126.99939224 ],
					[ 35.117066992, 126.999386427 ],
					[ 35.117036075, 126.999369643 ],
					[ 35.117017416, 126.999353409 ],
					[ 35.1170002, 126.999330153 ],
					[ 35.116984426, 126.999304703 ],
					[ 35.116966308, 126.999260495 ],
					[ 35.116950983, 126.99920773 ],
					[ 35.116947107, 126.999165387 ],
					[ 35.116948096, 126.999077956 ],
					[ 35.116947646, 126.999063806 ],
					[ 35.116946744, 126.999056018 ],
					[ 35.116944852, 126.999048557 ],
					[ 35.116939804, 126.999039671 ],
					[ 35.116724556, 126.998919997 ],
					[ 35.116509128, 126.998796923 ],
					[ 35.116390327, 126.998720247 ],
					[ 35.116177242, 126.99859059 ],
					[ 35.116155415, 126.998577711 ],
					[ 35.116206104, 126.998457378 ],
					[ 35.116391004, 126.998181421 ],
					[ 35.116479828, 126.998068821 ],
					[ 35.116526964, 126.998031293 ],
					[ 35.11663052, 126.997919112 ],
					[ 35.116635836, 126.997898817 ],
					[ 35.116655755, 126.997825647 ],
					[ 35.116669634, 126.997770358 ],
					[ 35.116689192, 126.997715727 ],
					[ 35.116712715, 126.997643216 ],
					[ 35.116740835, 126.997569826 ],
					[ 35.116776167, 126.997504664 ],
					[ 35.116801043, 126.997455737 ],
					[ 35.116826008, 126.997399679 ],
					[ 35.116853408, 126.997338466 ],
					[ 35.11688306, 126.997276923 ],
					[ 35.116907305, 126.997220537 ],
					[ 35.116929837, 126.997161737 ],
					[ 35.116955794, 126.997100415 ],
					[ 35.11698139, 126.997044576 ],
					[ 35.117008069, 126.996990054 ],
					[ 35.117035018, 126.996930597 ],
					[ 35.117063228, 126.996870699 ],
					[ 35.117091527, 126.996809815 ],
					[ 35.117123975, 126.996747284 ],
					[ 35.1171557, 126.996691226 ],
					[ 35.117185443, 126.996631328 ],
					[ 35.117218431, 126.996575051 ],
					[ 35.117251147, 126.996520089 ],
					[ 35.117285578, 126.996466335 ],
					[ 35.117320728, 126.996416529 ],
					[ 35.11735552, 126.996377035 ],
					[ 35.117383009, 126.996331289 ],
					[ 35.117408425, 126.99627227 ],
					[ 35.11743988, 126.99621281 ],
					[ 35.117475481, 126.996153241 ],
					[ 35.117505404, 126.996092575 ],
					[ 35.117532802, 126.996038601 ],
					[ 35.117563627, 126.995990551 ],
					[ 35.117588322, 126.995941623 ],
					[ 35.117614459, 126.995885016 ],
					[ 35.11763726, 126.995823582 ],
					[ 35.117662586, 126.995766756 ],
					[ 35.117691427, 126.995702799 ],
					[ 35.117722881, 126.995641694 ],
					[ 35.117751812, 126.995586841 ],
					[ 35.1177848, 126.995532647 ],
					[ 35.117822293, 126.995476588 ],
					[ 35.117860238, 126.995424918 ],
					[ 35.117890431, 126.995374124 ],
					[ 35.117917018, 126.995317077 ],
					[ 35.117950907, 126.995263212 ],
					[ 35.11798741, 126.995218012 ],
					[ 35.118023552, 126.995179286 ],
					[ 35.118049419, 126.995133758 ],
					[ 35.118076006, 126.995079784 ],
					[ 35.118112779, 126.995037766 ],
					[ 35.118152437, 126.994999258 ],
					[ 35.118194528, 126.994959213 ],
					[ 35.118236621, 126.9949229 ],
					[ 35.118286554, 126.994887681 ],
					[ 35.118339642, 126.994854987 ],
					[ 35.118389936, 126.994828435 ],
					[ 35.118441493, 126.994802541 ],
					[ 35.118492869, 126.994782242 ],
					[ 35.118539018, 126.994762382 ],
					[ 35.118582281, 126.994736929 ],
					[ 35.118630232, 126.994706428 ],
					[ 35.118682149, 126.994677901 ],
					[ 35.11873569, 126.994667914 ],
					[ 35.118790852, 126.994665167 ],
					[ 35.118847819, 126.994660994 ],
					[ 35.118904152, 126.99464574 ],
					[ 35.118958954, 126.994631036 ],
					[ 35.119011773, 126.994621707 ],
					[ 35.119059005, 126.994613804 ],
					[ 35.119105333, 126.994603379 ],
					[ 35.119152834, 126.994582202 ],
					[ 35.119199433, 126.994557296 ],
					[ 35.119241074, 126.994526137 ],
					[ 35.119273611, 126.994484228 ],
					[ 35.119291635, 126.994429266 ],
					[ 35.119320834, 126.994354666 ],
					[ 35.119346971, 126.994306285 ],
					[ 35.119373648, 126.994250115 ],
					[ 35.119395728, 126.994196249 ],
					[ 35.119409336, 126.994141397 ],
					[ 35.119411676, 126.994077221 ],
					[ 35.119402838, 126.994012279 ],
					[ 35.119388864, 126.993952821 ],
					[ 35.119375339, 126.993882504 ],
					[ 35.119364157, 126.993821949 ],
					[ 35.119353969, 126.99376644 ],
					[ 35.11934378, 126.993708409 ],
					[ 35.119336746, 126.993648402 ],
					[ 35.119338453, 126.993567333 ],
					[ 35.119353683, 126.993514565 ],
					[ 35.119379818, 126.993465415 ],
					[ 35.119398743, 126.993391474 ],
					[ 35.11938675, 126.993335198 ],
					[ 35.119366917, 126.993274425 ],
					[ 35.119359251, 126.99321398 ],
					[ 35.119359066, 126.993157483 ],
					[ 35.119353202, 126.993074988 ],
					[ 35.119335983, 126.993024308 ],
					[ 35.11931795, 126.992945543 ],
					[ 35.119309203, 126.992883014 ],
					[ 35.119297571, 126.992819608 ],
					[ 35.119288372, 126.992755872 ],
					[ 35.119278543, 126.99269444 ],
					[ 35.119256364, 126.992623135 ],
					[ 35.119229859, 126.992558744 ],
					[ 35.119196324, 126.99249885 ],
					[ 35.119164863, 126.992447403 ],
					[ 35.119138539, 126.99238685 ],
					[ 35.119111583, 126.992319826 ],
					[ 35.119087512, 126.992255433 ],
					[ 35.11906939, 126.992192577 ],
					[ 35.119056135, 126.992124892 ],
					[ 35.119053787, 126.992063569 ],
					[ 35.119044047, 126.992002357 ],
					[ 35.119019795, 126.991935112 ],
					[ 35.119004829, 126.991879277 ],
					[ 35.118996441, 126.991824865 ],
					[ 35.118996076, 126.99175674 ],
					[ 35.118984533, 126.991688617 ],
					[ 35.118968844, 126.991631684 ],
					[ 35.11894928, 126.9915787 ],
					[ 35.11893287, 126.991505751 ],
					[ 35.118931333, 126.99144728 ],
					[ 35.118930967, 126.991390235 ],
					[ 35.118930692, 126.991331326 ],
					[ 35.11893312, 126.991269783 ],
					[ 35.118942489, 126.991204948 ],
					[ 35.118950235, 126.991144063 ],
					[ 35.11895627, 126.991081093 ],
					[ 35.118961312, 126.991018453 ],
					[ 35.118964732, 126.9909568 ],
					[ 35.118962384, 126.990898658 ],
					[ 35.118961657, 126.990841614 ],
					[ 35.118971925, 126.990762627 ],
					[ 35.118965159, 126.990686276 ],
					[ 35.11894352, 126.990621006 ],
					[ 35.118909985, 126.99055892 ],
					[ 35.118876269, 126.990507913 ],
					[ 35.118852197, 126.990448897 ],
					[ 35.118839571, 126.990370682 ],
					[ 35.118836769, 126.990289283 ],
					[ 35.118821259, 126.990216774 ],
					[ 35.118796465, 126.990144045 ],
					[ 35.118779694, 126.990091061 ],
					[ 35.118766349, 126.990037967 ],
					[ 35.118747685, 126.989964799 ],
					[ 35.118738485, 126.989905562 ],
					[ 35.118730456, 126.989835793 ],
					[ 35.118713415, 126.989776995 ],
					[ 35.11869367, 126.989715785 ],
					[ 35.118669778, 126.989666094 ],
					[ 35.118643724, 126.989618487 ],
					[ 35.118635516, 126.989553545 ],
					[ 35.118621808, 126.989485862 ],
					[ 35.118609454, 126.989426844 ],
					[ 35.118589978, 126.98935982 ],
					[ 35.118580688, 126.989304642 ],
					[ 35.118581223, 126.989244086 ],
					[ 35.118587076, 126.989179691 ],
					[ 35.118595269, 126.989099169 ],
					[ 35.118605989, 126.989036638 ],
					[ 35.118614997, 126.988978824 ],
					[ 35.118622563, 126.988919913 ],
					[ 35.118628955, 126.988855956 ],
					[ 35.118637152, 126.988797813 ],
					[ 35.118653278, 126.988726287 ],
					[ 35.118668595, 126.988658818 ],
					[ 35.118688328, 126.988590141 ],
					[ 35.118710044, 126.988533093 ],
					[ 35.118723828, 126.988466063 ],
					[ 35.118734908, 126.98841176 ],
					[ 35.118748784, 126.988359211 ],
					[ 35.118766892, 126.988282087 ],
					[ 35.118774278, 126.988227127 ],
					[ 35.118783463, 126.988152309 ],
					[ 35.118801212, 126.988080561 ],
					[ 35.118807514, 126.988007718 ],
					[ 35.118807146, 126.98794058 ],
					[ 35.118806147, 126.987872786 ],
					[ 35.118806679, 126.987798079 ],
					[ 35.118817398, 126.987728746 ],
					[ 35.118825232, 126.987660072 ],
					[ 35.118825223, 126.98758361 ],
					[ 35.118823503, 126.987515705 ],
					[ 35.118818717, 126.987440012 ],
					[ 35.118817627, 126.987366073 ],
					[ 35.118817258, 126.987292793 ],
					[ 35.118817521, 126.987234322 ],
					[ 35.118819586, 126.987155995 ],
					[ 35.118828859, 126.987074485 ],
					[ 35.118842013, 126.987014256 ],
					[ 35.118858771, 126.9869605 ],
					[ 35.118878864, 126.986904548 ],
					[ 35.118906891, 126.986849583 ],
					[ 35.118937441, 126.986801967 ],
					[ 35.118967719, 126.986735044 ],
					[ 35.11898754, 126.986670316 ],
					[ 35.119002675, 126.98660208 ],
					[ 35.11901781, 126.986535816 ],
					[ 35.119017351, 126.986469447 ],
					[ 35.119011484, 126.986401762 ],
					[ 35.118992548, 126.986344501 ],
					[ 35.11897902, 126.986281865 ],
					[ 35.118968285, 126.986211767 ],
					[ 35.118960704, 126.986133332 ],
					[ 35.118960333, 126.986053469 ],
					[ 35.118958614, 126.985997193 ],
					[ 35.118957161, 126.985923583 ],
					[ 35.118960848, 126.985850192 ],
					[ 35.118967419, 126.985781518 ],
					[ 35.118965699, 126.985724692 ],
					[ 35.118958569, 126.985653498 ],
					[ 35.118958739, 126.985574622 ],
					[ 35.11897225, 126.985500681 ],
					[ 35.118985312, 126.985445608 ],
					[ 35.118996842, 126.98538878 ],
					[ 35.119010354, 126.985328003 ],
					[ 35.119023506, 126.9852658 ],
					[ 35.119038189, 126.985196136 ],
					[ 35.119052963, 126.985133713 ],
					[ 35.119063319, 126.985063063 ],
					[ 35.119069438, 126.984989013 ],
					[ 35.119080335, 126.984921435 ],
					[ 35.119133402, 126.984752044 ],
					[ 35.119113025, 126.984709374 ],
					[ 35.119089942, 126.984645752 ],
					[ 35.119066314, 126.984554486 ],
					[ 35.119042505, 126.984464534 ],
					[ 35.119025278, 126.984385992 ],
					[ 35.119013822, 126.98432489 ],
					[ 35.118998849, 126.984251613 ],
					[ 35.118978109, 126.984190404 ],
					[ 35.118944478, 126.984114936 ],
					[ 35.118913013, 126.984058995 ],
					[ 35.118877939, 126.983987915 ],
					[ 35.118847197, 126.983939544 ],
					[ 35.118836378, 126.98392693 ],
					[ 35.118800229, 126.983896332 ],
					[ 35.118771558, 126.98384752 ],
					[ 35.11874649, 126.98377644 ],
					[ 35.118723497, 126.983716877 ],
					[ 35.118704018, 126.983652487 ],
					[ 35.118698608, 126.983637897 ],
					[ 35.118686804, 126.983615611 ],
					[ 35.118684723, 126.983611682 ],
					[ 35.118662997, 126.983582506 ],
					[ 35.118655423, 126.983574609 ],
					[ 35.118617742, 126.983542037 ],
					[ 35.118609088, 126.983536333 ],
					[ 35.118564467, 126.983507821 ],
					[ 35.118524984, 126.98348567 ],
					[ 35.118513715, 126.98347942 ],
					[ 35.118474142, 126.983457598 ],
					[ 35.118425376, 126.983436437 ],
					[ 35.118388508, 126.983419551 ],
					[ 35.118376789, 126.983414507 ],
					[ 35.118351008, 126.983402445 ],
					[ 35.118340912, 126.983397731 ],
					[ 35.118301251, 126.983384356 ],
					[ 35.11826258, 126.983366593 ],
					[ 35.118227513, 126.983341589 ],
					[ 35.118221834, 126.983337641 ],
					[ 35.118176401, 126.98330869 ],
					[ 35.118156026, 126.9832771 ],
					[ 35.118134567, 126.983233774 ],
					[ 35.11811987, 126.983201634 ],
					[ 35.118113108, 126.983187375 ],
					[ 35.118086599, 126.983133847 ],
					[ 35.11806947, 126.983110485 ],
					[ 35.118061537, 126.983103247 ],
					[ 35.118038729, 126.983079996 ],
					[ 35.118031156, 126.983074622 ],
					[ 35.118000147, 126.983054773 ],
					[ 35.117969228, 126.983039312 ],
					[ 35.117943445, 126.983012112 ],
					[ 35.117921447, 126.982980743 ],
					[ 35.117902783, 126.982945204 ],
					[ 35.117879973, 126.982908241 ],
					[ 35.117864106, 126.982889814 ],
					[ 35.117859689, 126.982886195 ],
					[ 35.117843733, 126.982872267 ],
					[ 35.117829579, 126.982859106 ],
					[ 35.117764393, 126.982741852 ],
					[ 35.117762049, 126.982739658 ],
					[ 35.11763989, 126.982575356 ],
					[ 35.117636013, 126.982572285 ],
					[ 35.117570737, 126.982454703 ],
					[ 35.117569835, 126.98245218 ],
					[ 35.117512392, 126.982286327 ],
					[ 35.117510407, 126.982275467 ],
					[ 35.11749254, 126.982147452 ],
					[ 35.117491638, 126.982137469 ],
					[ 35.11747512, 126.981998374 ],
					[ 35.117474397, 126.981988611 ],
					[ 35.117463738, 126.981845674 ],
					[ 35.117463648, 126.981844139 ],
					[ 35.117465966, 126.981689133 ],
					[ 35.117465784, 126.981681016 ],
					[ 35.117464221, 126.981487067 ],
					[ 35.117464129, 126.981481363 ],
					[ 35.117468337, 126.981309134 ],
					[ 35.117462188, 126.981184187 ],
					[ 35.117462097, 126.981180128 ],
					[ 35.117447488, 126.981141957 ],
					[ 35.117445323, 126.981137679 ],
					[ 35.117411784, 126.981082508 ],
					[ 35.117407276, 126.981075379 ],
					[ 35.11738266, 126.981024374 ],
					[ 35.117382119, 126.981021851 ],
					[ 35.117390771, 126.981011319 ],
					[ 35.117423213, 126.980969296 ],
					[ 35.117472515, 126.98095952 ],
					[ 35.117528126, 126.98094349 ],
					[ 35.11758256, 126.98089433 ],
					[ 35.117621487, 126.980825539 ],
					[ 35.11763167, 126.980808643 ],
					[ 35.117676098, 126.980758828 ],
					[ 35.117739635, 126.980700013 ],
					[ 35.117791274, 126.980648769 ],
					[ 35.117832366, 126.980589631 ],
					[ 35.11788715, 126.980489022 ],
					[ 35.117927162, 126.98043833 ],
					[ 35.117976368, 126.98038248 ],
					[ 35.11801737, 126.980327949 ],
					[ 35.118062248, 126.980275939 ],
					[ 35.118120643, 126.98020407 ],
					[ 35.118210126, 126.980073393 ],
					[ 35.11822481, 126.980030057 ],
					[ 35.118261766, 126.980026537 ],
					[ 35.118287999, 126.980049568 ],
					[ 35.118306932, 126.980071064 ],
					[ 35.118341004, 126.980075992 ],
					[ 35.118354164, 126.980074124 ],
					[ 35.118393101, 126.980063912 ],
					[ 35.118403285, 126.980058642 ],
					[ 35.118422931, 126.980033297 ],
					[ 35.118429597, 126.980019364 ],
					[ 35.11844942, 126.979975807 ],
					[ 35.118456537, 126.979959021 ],
					[ 35.118501411, 126.979877502 ],
					[ 35.118540606, 126.979796531 ],
					[ 35.11856971, 126.979741454 ],
					[ 35.118576107, 126.979725875 ],
					[ 35.118591871, 126.979672447 ],
					[ 35.11861511, 126.979581827 ],
					[ 35.118642676, 126.979499872 ],
					[ 35.118679441, 126.979437114 ],
					[ 35.118701329, 126.979357464 ],
					[ 35.118701145, 126.979332452 ],
					[ 35.118698609, 126.979266962 ],
					[ 35.118698245, 126.97924568 ],
					[ 35.118702827, 126.979163732 ],
					[ 35.118729492, 126.979088689 ],
					[ 35.118739945, 126.97906861 ],
					[ 35.118779232, 126.9790064 ],
					[ 35.118829066, 126.978941333 ],
					[ 35.11886781, 126.978864751 ],
					[ 35.118878983, 126.978843137 ],
					[ 35.118903311, 126.97879541 ],
					[ 35.118920778, 126.978694259 ],
					[ 35.118979154, 126.978523987 ],
					[ 35.118980325, 126.978518611 ],
					[ 35.118993746, 126.978467486 ],
					[ 35.119000321, 126.978446641 ],
					[ 35.119023114, 126.978383556 ],
					[ 35.119040673, 126.97829217 ],
					[ 35.119039936, 126.97820726 ],
					[ 35.119040641, 126.978121254 ],
					[ 35.11905847, 126.978029868 ],
					[ 35.119062522, 126.978010669 ],
					[ 35.119058903, 126.977941778 ],
					[ 35.119062852, 126.977853576 ],
					[ 35.119077168, 126.977776671 ],
					[ 35.119097074, 126.977700532 ],
					[ 35.119105261, 126.977625385 ],
					[ 35.119106237, 126.977543546 ],
					[ 35.119101806, 126.977472461 ],
					[ 35.11909999, 126.977402362 ],
					[ 35.119101869, 126.977335443 ],
					[ 35.119103037, 126.977314491 ],
					[ 35.119120512, 126.977259085 ],
					[ 35.119145557, 126.977193147 ],
					[ 35.119180966, 126.977119747 ],
					[ 35.119211783, 126.977073773 ],
					[ 35.119255757, 126.977011448 ],
					[ 35.119270086, 126.976995647 ],
					[ 35.119310816, 126.976941223 ],
					[ 35.119364884, 126.976872643 ],
					[ 35.119416788, 126.976807244 ],
					[ 35.119463196, 126.976744151 ],
					[ 35.119516451, 126.976671184 ],
					[ 35.119566913, 126.976601507 ],
					[ 35.119609443, 126.976530736 ],
					[ 35.119637913, 126.976469075 ],
					[ 35.119646563, 126.976450972 ],
					[ 35.11965782, 126.976404564 ],
					[ 35.11966115, 126.976379661 ],
					[ 35.119667071, 126.97624253 ],
					[ 35.119665803, 126.976214996 ],
					[ 35.119657407, 126.976150602 ],
					[ 35.119653616, 126.976125701 ],
					[ 35.119645309, 126.976055385 ],
					[ 35.119641686, 126.975970476 ],
					[ 35.119642492, 126.975947 ],
					[ 35.119640136, 126.975889296 ],
					[ 35.119628223, 126.975818213 ],
					[ 35.119620276, 126.975749761 ],
					[ 35.11961981, 126.975671653 ],
					[ 35.119631687, 126.975575769 ],
					[ 35.119634025, 126.975550647 ],
					[ 35.11963401, 126.975480985 ],
					[ 35.119624797, 126.975390375 ],
					[ 35.119621818, 126.975367887 ],
					[ 35.119614862, 126.975299982 ],
					[ 35.119611063, 126.97523526 ],
					[ 35.119617539, 126.975168558 ],
					[ 35.119625813, 126.975087705 ],
					[ 35.119639864, 126.975040639 ],
					[ 35.11964581, 126.975027582 ],
					[ 35.119659955, 126.974999603 ],
					[ 35.119666352, 126.974983804 ],
					[ 35.119666792, 126.974935863 ],
					[ 35.119653884, 126.974851836 ],
					[ 35.119653422, 126.974799508 ],
					[ 35.119652148, 126.974744656 ],
					[ 35.119644837, 126.97470001 ],
					[ 35.119630221, 126.974636827 ],
					[ 35.119615607, 126.974582967 ],
					[ 35.119611188, 126.974568378 ],
					[ 35.119601353, 126.974525707 ],
					[ 35.119598194, 126.974506291 ],
					[ 35.119589439, 126.974454844 ],
					[ 35.119587091, 126.974437073 ],
					[ 35.11958555, 126.974395387 ],
					[ 35.119585007, 126.974381564 ],
					[ 35.11957544, 126.974326058 ],
					[ 35.119574989, 126.974325729 ],
					[ 35.119561819, 126.974284156 ],
					[ 35.11955767, 126.974269786 ],
					[ 35.119539083, 126.974185979 ],
					[ 35.11952861, 126.974109739 ],
					[ 35.119526442, 126.974087252 ],
					[ 35.119518945, 126.974018471 ],
					[ 35.119514792, 126.973989182 ],
					[ 35.11950306, 126.973927094 ],
					[ 35.119498728, 126.973901535 ],
					[ 35.119490142, 126.973800173 ],
					[ 35.119479751, 126.973687951 ],
					[ 35.11947405, 126.973590208 ],
					[ 35.119468795, 126.973474365 ],
					[ 35.119465617, 126.973372013 ],
					[ 35.11946498, 126.973341845 ],
					[ 35.11946729, 126.973202962 ],
					[ 35.119467284, 126.973176853 ],
					[ 35.119469073, 126.973120136 ],
					[ 35.119471502, 126.973096878 ],
					[ 35.119479782, 126.973045206 ],
					[ 35.119483293, 126.97302853 ],
					[ 35.119496714, 126.972984863 ],
					[ 35.119524554, 126.972934829 ],
					[ 35.119541226, 126.972921221 ],
					[ 35.119544972, 126.972855167 ],
					[ 35.11955488, 126.972680419 ],
					[ 35.119548938, 126.972615445 ],
					[ 35.119544452, 126.972454804 ],
					[ 35.119551851, 126.972407876 ],
					[ 35.119535106, 126.972001046 ],
					[ 35.119565429, 126.971934531 ],
					[ 35.11962603, 126.971616761 ],
					[ 35.119613853, 126.971454197 ],
					[ 35.119613843, 126.97140986 ],
					[ 35.119613789, 126.971195565 ],
					[ 35.1196259, 126.971092107 ],
					[ 35.119656211, 126.970988643 ],
					[ 35.119680466, 126.97092952 ],
					[ 35.119698649, 126.970848228 ],
					[ 35.119728969, 126.970774321 ],
					[ 35.11976536, 126.970707804 ],
					[ 35.119789615, 126.970648678 ],
					[ 35.119832067, 126.970559989 ],
					[ 35.119868448, 126.970463911 ],
					[ 35.119898735, 126.970256993 ],
					[ 35.119904745, 126.970042696 ],
					[ 35.119910804, 126.969998356 ],
					[ 35.119941113, 126.969887503 ],
					[ 35.119953243, 126.969865329 ],
					[ 35.119995704, 126.969813585 ],
					[ 35.120062426, 126.969724886 ],
					[ 35.12008061, 126.969658373 ],
					[ 35.120092729, 126.969591863 ],
					[ 35.120110923, 126.969554907 ],
					[ 35.120135181, 126.969510561 ],
					[ 35.120171564, 126.969421873 ],
					[ 35.120189762, 126.969399697 ],
					[ 35.12023829, 126.969347951 ],
					[ 35.120317156, 126.969296195 ],
					[ 35.120426357, 126.969222255 ],
					[ 35.12051129, 126.969170495 ],
					[ 35.120590156, 126.969118739 ],
					[ 35.120638692, 126.969089161 ],
					[ 35.120669014, 126.96903003 ],
					[ 35.120687205, 126.968985686 ],
					[ 35.120705385, 126.968897003 ],
					[ 35.120717497, 126.968808324 ],
					[ 35.120717489, 126.968778766 ],
					[ 35.120717446, 126.968616196 ],
					[ 35.120705275, 126.968490577 ],
					[ 35.120668837, 126.968372359 ],
					[ 35.12063238, 126.968187635 ],
					[ 35.120656631, 126.968113728 ],
					[ 35.120686958, 126.968076768 ],
					[ 35.120729414, 126.968002855 ],
					[ 35.120759729, 126.967921559 ],
					[ 35.120790055, 126.967877208 ],
					[ 35.120814314, 126.967832861 ],
					[ 35.12088103, 126.967729378 ],
					[ 35.120990223, 126.96763327 ],
					[ 35.1211464, 126.967531172 ],
					[ 35.121265623, 126.967438173 ],
					[ 35.121289455, 126.967374264 ],
					[ 35.121375292, 126.967292898 ],
					[ 35.121446821, 126.967217347 ],
					[ 35.121499279, 126.967176663 ],
					[ 35.121566046, 126.967130161 ],
					[ 35.121628048, 126.96710109 ],
					[ 35.121675735, 126.967048786 ],
					[ 35.121718645, 126.966979057 ],
					[ 35.121785399, 126.966886083 ],
					[ 35.121828315, 126.96683959 ],
					[ 35.121871224, 126.966764052 ],
					[ 35.121918902, 126.966688511 ],
					[ 35.121928428, 126.966636225 ],
					[ 35.121933181, 126.96657813 ],
					[ 35.121942687, 126.96646194 ],
					[ 35.121952204, 126.966380607 ],
					[ 35.121980783, 126.966241172 ],
					[ 35.122009358, 126.966084312 ],
					[ 35.122009331, 126.965991364 ],
					[ 35.122004512, 126.965828707 ],
					[ 35.12198539, 126.965683484 ],
					[ 35.122009195, 126.965532433 ],
					[ 35.122052095, 126.96543366 ],
					[ 35.122075937, 126.965404601 ],
					[ 35.122128376, 126.965300013 ],
					[ 35.122171287, 126.96523609 ],
					[ 35.122266659, 126.965137291 ],
					[ 35.122342962, 126.965079166 ],
					[ 35.122438335, 126.964991981 ],
					[ 35.12250988, 126.964974523 ],
					[ 35.122595735, 126.964957057 ],
					[ 35.122686349, 126.964904732 ],
					[ 35.122748349, 126.964864039 ],
					[ 35.122960409, 126.964688294 ],
					[ 35.123122543, 126.96453137 ],
					[ 35.123241755, 126.964409318 ],
					[ 35.123284671, 126.964362825 ],
					[ 35.123365741, 126.964298886 ],
					[ 35.123580301, 126.96400832 ],
					[ 35.123632745, 126.963915347 ],
					[ 35.123771015, 126.963723573 ],
					[ 35.123813945, 126.963723554 ],
					[ 35.123837799, 126.96373516 ],
					[ 35.123875961, 126.963740953 ],
					[ 35.124052454, 126.963752492 ],
					[ 35.124128777, 126.963758267 ],
					[ 35.124286196, 126.963787241 ],
					[ 35.124443623, 126.963839451 ],
					[ 35.124553334, 126.963845211 ],
					[ 35.124643966, 126.963850978 ],
					[ 35.124812953, 126.963741627 ],
					[ 35.124956896, 126.96365389 ],
					[ 35.125076872, 126.963653835 ],
					[ 35.125178855, 126.963668398 ],
					[ 35.125238846, 126.963682982 ],
					[ 35.125352839, 126.963726765 ],
					[ 35.125562789, 126.963704751 ],
					[ 35.125664742, 126.963617032 ],
					[ 35.125718686, 126.963478192 ],
					[ 35.125784657, 126.963427018 ],
					[ 35.125916601, 126.963331979 ],
					[ 35.126018569, 126.963295399 ],
					[ 35.126174517, 126.963236879 ],
					[ 35.126282493, 126.963222218 ],
					[ 35.126444434, 126.963141774 ],
					[ 35.126468423, 126.963119844 ],
					[ 35.126498407, 126.963090605 ],
					[ 35.126768252, 126.962776314 ],
					[ 35.126878741, 126.96266581 ],
					[ 35.126938692, 126.962548884 ],
					[ 35.126998657, 126.962475793 ],
					[ 35.127136605, 126.962402663 ],
					[ 35.127298564, 126.962373363 ],
					[ 35.127388537, 126.962351401 ],
					[ 35.127490503, 126.962307515 ],
					[ 35.127586484, 126.96230747 ],
					[ 35.127694461, 126.962307418 ],
					[ 35.12779645, 126.962336592 ],
					[ 35.127916426, 126.962336535 ],
					[ 35.12800041, 126.962336495 ],
					[ 35.128108387, 126.962336443 ],
					[ 35.128228351, 126.962299856 ],
					[ 35.128324313, 126.96224136 ],
					[ 35.128432262, 126.962153632 ],
					[ 35.128489164, 126.962072376 ],
					[ 35.128495149, 126.962028537 ],
					[ 35.128597063, 126.961831214 ],
					[ 35.128651021, 126.961736208 ],
					[ 35.128710987, 126.961670422 ],
					[ 35.12886692, 126.961568058 ],
					[ 35.128968897, 126.961553396 ],
					[ 35.129112846, 126.961487567 ],
					[ 35.129226815, 126.96146559 ],
					[ 35.129298786, 126.961421716 ],
					[ 35.129406731, 126.961326683 ],
					[ 35.129472698, 126.961268199 ],
					[ 35.129604626, 126.961129313 ],
					[ 35.129694577, 126.961034283 ],
					[ 35.129736556, 126.960997731 ],
					[ 35.129844461, 126.960778487 ],
					[ 35.129862443, 126.96073464 ],
					[ 35.129922393, 126.960625011 ],
					[ 35.12995237, 126.960573852 ],
					[ 35.130000325, 126.960471538 ],
					[ 35.130060265, 126.960325378 ],
					[ 35.130111162, 126.960266272 ],
					[ 35.130216705, 126.960207776 ],
					[ 35.130303049, 126.960137601 ],
					[ 35.130427756, 126.959997276 ],
					[ 35.130542864, 126.959845266 ],
					[ 35.130600422, 126.959786795 ],
					[ 35.130725162, 126.959739979 ],
					[ 35.13080192, 126.959704874 ],
					[ 35.130984201, 126.959552828 ],
					[ 35.131012987, 126.959541126 ],
					[ 35.131156891, 126.959412476 ],
					[ 35.131272038, 126.959377351 ],
					[ 35.131415925, 126.959201948 ],
					[ 35.131473466, 126.95909672 ],
					[ 35.131473421, 126.958968146 ],
					[ 35.131511794, 126.958933059 ],
					[ 35.13158855, 126.958886264 ],
					[ 35.131646127, 126.958874545 ],
					[ 35.131742065, 126.958804363 ],
					[ 35.132001048, 126.958453566 ],
					[ 35.132164068, 126.958114506 ],
					[ 35.132202405, 126.957974219 ],
					[ 35.132221569, 126.957892389 ],
					[ 35.132221526, 126.957775501 ],
					[ 35.132221484, 126.957658615 ],
					[ 35.13226944, 126.957588454 ],
					[ 35.132336596, 126.957529975 ],
					[ 35.132346158, 126.957436458 ],
					[ 35.132346115, 126.957319572 ],
					[ 35.132336468, 126.957179311 ],
					[ 35.132336438, 126.957097492 ],
					[ 35.132307593, 126.956945552 ],
					[ 35.132307559, 126.956852041 ],
					[ 35.132317129, 126.956781904 ],
					[ 35.132393863, 126.956676661 ],
					[ 35.132480219, 126.956641548 ],
					[ 35.132585777, 126.956629803 ],
					[ 35.132662542, 126.95661807 ],
					[ 35.132787295, 126.956606314 ],
					[ 35.132873658, 126.956594578 ],
					[ 35.133008011, 126.956594505 ],
					[ 35.133123168, 126.956594442 ],
					[ 35.133880514, 126.956651679 ] ]

			]

			// 다중 등산로 출력, 배열 변수 선언
			var polyline = new Array();
			var trail_list_kakao = new Array();
			var trail_color = new Array();

			// 색상 지정
			trail_color[0] = "#FF0000";
			trail_color[1] = "#FF9900";
			trail_color[2] = "#FFFF00";
			trail_color[3] = "#00FF00";
			trail_color[4] = "#00FFFF";
			trail_color[5] = "#0000FF";
			trail_color[6] = "#FF00FF";
			trail_color[7] = "#664B00";
			trail_color[8] = "#290066";
			trail_color[9] = "#660033";

			// 등산로 개별 반복문 시작
			for (var i = 0; i < trail_list.length; i++) {
				trail_list_kakao[i] = [];

				// 각 등산로에 좌표 입력
				for (var j = 0; j < trail_list[i].length; j++) {
					임시 = new kakao.maps.LatLng(trail_list[i][j][0],
							trail_list[i][j][1])
					trail_list_kakao[i].push(임시);
				}

				// 지도에 표시할 선을 생성합니다
				polyline[i] = new kakao.maps.Polyline({
					path : trail_list_kakao[i], // 선을 구성하는 좌표배열 입니다
					strokeWeight : 5, // 선의 두께 입니다
					strokeColor : trail_color[i], // 선의 색깔입니다
					strokeOpacity : 0.7, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
					strokeStyle : 'solid' // 선의 스타일입니다
				});

				// 지도에 선을 표시합니다 
				polyline[i].setMap(map);

			}

			/* 좌표가 1차원 배열일 경우 지도 범위 재설정하는 코드
			// 지도를 재설정할 범위정보를 가지고 있을 LatLngBounds 객체를 생성합니다
			var bounds = new kakao.maps.LatLngBounds();  
			
			var i, marker;
			for (i = 0; i < trail_list.length; i++) {
			    // 배열의 좌표들이 잘 보이게 마커를 지도에 추가합니다
			    marker =     new kakao.maps.Marker({ position : new kakao.maps.LatLng(trail_list[i][0],trail_list[i][1]) });
			    marker.setMap(map);
			    
			    // LatLngBounds 객체에 좌표를 추가합니다
			    bounds.extend(new kakao.maps.LatLng(trail_list[i][0],trail_list[i][1]));
			}

			function setBounds() {
			    // LatLngBounds 객체에 추가된 좌표들을 기준으로 지도의 범위를 재설정합니다
			    // 이때 지도의 중심좌표와 레벨이 변경될 수 있습니다
			    map.setBounds(bounds);
			}
			 */

			// 좌표가 2차원 배열일 경우 지도 범위 재설정하는 코드
			var bounds = new kakao.maps.LatLngBounds();

			var i, marker;
			for (var i = 0; i < trail_list.length; i++) {
				trail_list_kakao[i] = [];

				// 각 등산로에 좌표 입력
				for (var j = 0; j < trail_list[i].length; j++) {
					marker = new kakao.maps.Marker({
						position : new kakao.maps.LatLng(trail_list[i][j][0],
								trail_list[i][j][1])
					});
					// marker.setMap(map);

					// LatLngBounds 객체에 좌표를 추가합니다
					bounds.extend(new kakao.maps.LatLng(trail_list[i][j][0],
							trail_list[i][j][1]));
				}
			}

			// 버튼을 사용할 경우 marker들을 기준으로 지도의 범위를 재설정한다.
			function setBounds() {
				// LatLngBounds 객체에 추가된 좌표들을 기준으로 지도의 범위를 재설정합니다
				// 이때 지도의 중심좌표와 레벨이 변경될 수 있습니다
				map.panTo(bounds);
				;
			}
			// 시작시 marker들을 기준으로 지도의 범위를 재설정한다.
			map.panTo(bounds);

			var mapTypes = {
				terrain : kakao.maps.MapTypeId.TERRAIN,
			};

			function setOverlayMapTypeId() {
				var chkTerrain = document.getElementById('chkTerrain');

				// 지도 타입을 제거합니다
				for ( var type in mapTypes) {
					map.removeOverlayMapTypeId(mapTypes[type]);
				}

				// 지형정보 체크박스가 체크되어있으면 지도에 지형정보 지도타입을 추가합니다
				if (chkTerrain.checked) {
					map.addOverlayMapTypeId(mapTypes.terrain);
				}
			}

			// 지도타입 컨트롤의 지도 또는 스카이뷰 버튼을 클릭하면 호출되어 지도타입을 바꾸는 함수입니다
			function setMapType(maptype) {
				var roadmapControl = document.getElementById('btnRoadmap');
				var skyviewControl = document.getElementById('btnSkyview');
				if (maptype === 'roadmap') {
					map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);
					roadmapControl.className = 'selected_btn';
					skyviewControl.className = 'btn';
				} else {
					map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);
					skyviewControl.className = 'selected_btn';
					roadmapControl.className = 'btn';
				}
			}

			// 지도 확대, 축소 컨트롤에서 확대 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
			function zoomIn() {
				map.setLevel(map.getLevel() - 1);
			}

			// 지도 확대, 축소 컨트롤에서 축소 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
			function zoomOut() {
				map.setLevel(map.getLevel() + 1);
			}

			// 마커를 클릭했을 때 해당 장소의 상세정보를 보여줄 커스텀오버레이입니다
			var placeOverlay = new kakao.maps.CustomOverlay({
				zIndex : 1
			}), contentNode = document.createElement('div'), // 커스텀 오버레이의 컨텐츠 엘리먼트 입니다 
			markers = [], // 마커를 담을 배열입니다
			currCategory = ''; // 현재 선택된 카테고리를 가지고 있을 변수입니다

			// 장소 검색 객체를 생성합니다
			var ps = new kakao.maps.services.Places(map);

			// 지도에 idle 이벤트를 등록합니다
			kakao.maps.event.addListener(map, 'idle', searchPlaces);

			// 커스텀 오버레이의 컨텐츠 노드에 css class를 추가합니다 
			contentNode.className = 'placeinfo_wrap';

			// 커스텀 오버레이의 컨텐츠 노드에 mousedown, touchstart 이벤트가 발생했을때
			// 지도 객체에 이벤트가 전달되지 않도록 이벤트 핸들러로 kakao.maps.event.preventMap 메소드를 등록합니다 
			addEventHandle(contentNode, 'mousedown',
					kakao.maps.event.preventMap);
			addEventHandle(contentNode, 'touchstart',
					kakao.maps.event.preventMap);

			// 커스텀 오버레이 컨텐츠를 설정합니다
			placeOverlay.setContent(contentNode);

			// 각 카테고리에 클릭 이벤트를 등록합니다
			addCategoryClickEvent();

			// 엘리먼트에 이벤트 핸들러를 등록하는 함수입니다
			function addEventHandle(target, type, callback) {
				if (target.addEventListener) {
					target.addEventListener(type, callback);
				} else {
					target.attachEvent('on' + type, callback);
				}
			}

			// 카테고리 검색을 요청하는 함수입니다
			function searchPlaces() {
				if (!currCategory) {
					return;
				}

				// 커스텀 오버레이를 숨깁니다 
				placeOverlay.setMap(null);

				// 지도에 표시되고 있는 마커를 제거합니다
				removeMarker();

				ps.categorySearch(currCategory, placesSearchCB, {
					useMapBounds : true
				});
			}

			// 장소검색이 완료됐을 때 호출되는 콜백함수 입니다
			function placesSearchCB(data, status, pagination) {
				if (status === kakao.maps.services.Status.OK) {

					// 정상적으로 검색이 완료됐으면 지도에 마커를 표출합니다
					displayPlaces(data);
				} else if (status === kakao.maps.services.Status.ZERO_RESULT) {
					// 검색결과가 없는경우 해야할 처리가 있다면 이곳에 작성해 주세요

				} else if (status === kakao.maps.services.Status.ERROR) {
					// 에러로 인해 검색결과가 나오지 않은 경우 해야할 처리가 있다면 이곳에 작성해 주세요

				}
			}

			// 지도에 마커를 표출하는 함수입니다
			function displayPlaces(places) {

				// 몇번째 카테고리가 선택되어 있는지 얻어옵니다
				// 이 순서는 스프라이트 이미지에서의 위치를 계산하는데 사용됩니다
				var order = document.getElementById(currCategory).getAttribute(
						'data-order');

				for (var i = 0; i < places.length; i++) {

					// 마커를 생성하고 지도에 표시합니다
					var marker = addMarker(new kakao.maps.LatLng(places[i].y,
							places[i].x), order);

					// 마커와 검색결과 항목을 클릭 했을 때
					// 장소정보를 표출하도록 클릭 이벤트를 등록합니다
					(function(marker, place) {
						kakao.maps.event.addListener(marker, 'click',
								function() {
									displayPlaceInfo(place);
								});
					})(marker, places[i]);
				}
			}

			// 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다
			function addMarker(position, order) {
				var imageSrc = './places_category.png', // 마커 이미지 url, 스프라이트 이미지를 씁니다
				imageSize = new kakao.maps.Size(27, 28), // 마커 이미지의 크기
				imgOptions = {
					spriteSize : new kakao.maps.Size(72, 244), // 스프라이트 이미지의 크기
					spriteOrigin : new kakao.maps.Point(46, (order * 36)), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표
					offset : new kakao.maps.Point(11, 28)
				// 마커 좌표에 일치시킬 이미지 내에서의 좌표
				}, markerImage = new kakao.maps.MarkerImage(imageSrc,
						imageSize, imgOptions), marker = new kakao.maps.Marker(
						{
							position : position, // 마커의 위치
							image : markerImage
						});

				marker.setMap(map); // 지도 위에 마커를 표출합니다
				markers.push(marker); // 배열에 생성된 마커를 추가합니다

				return marker;
			}

			// 지도 위에 표시되고 있는 마커를 모두 제거합니다
			function removeMarker() {
				for (var i = 0; i < markers.length; i++) {
					markers[i].setMap(null);
				}
				markers = [];
			}

			// 클릭한 마커에 대한 장소 상세정보를 커스텀 오버레이로 표시하는 함수입니다
			function displayPlaceInfo(place) {
				var content = '<div class="placeinfo">'
						+ '   <a class="title" href="' + place.place_url + '" target="_blank" title="' + place.place_name + '">'
						+ place.place_name + '</a>';

				if (place.road_address_name) {
					content += '    <span title="' + place.road_address_name + '">'
							+ place.road_address_name
							+ '</span>'
							+ '  <span class="jibun" title="' + place.address_name + '">(지번 : '
							+ place.address_name + ')</span>';
				} else {
					content += '    <span title="' + place.address_name + '">'
							+ place.address_name + '</span>';
				}

				content += '    <span class="tel">' + place.phone + '</span>'
						+ '</div>' + '<div class="after"></div>';

				contentNode.innerHTML = content;
				placeOverlay
						.setPosition(new kakao.maps.LatLng(place.y, place.x));
				placeOverlay.setMap(map);
			}

			// 각 카테고리에 클릭 이벤트를 등록합니다
			function addCategoryClickEvent() {
				var category = document.getElementById('category'), children = category.children;

				for (var i = 0; i < children.length; i++) {
					children[i].onclick = onClickCategory;
				}
			}

			// 카테고리를 클릭했을 때 호출되는 함수입니다
			function onClickCategory() {
				var id = this.id, className = this.className;

				placeOverlay.setMap(null);

				if (className === 'on') {
					currCategory = '';
					changeCategoryClass();
					removeMarker();
				} else {
					currCategory = id;
					changeCategoryClass(this);
					searchPlaces();
				}
			}

			// 클릭된 카테고리에만 클릭된 스타일을 적용하는 함수입니다
			function changeCategoryClass(el) {
				var category = document.getElementById('category'), children = category.children, i;

				for (i = 0; i < children.length; i++) {
					children[i].className = '';
				}

				if (el) {
					el.className = 'on';
				}
			}

			// 주소-좌표 변환 객체를 생성합니다
			var geocoder = new kakao.maps.services.Geocoder();

			var marker = new kakao.maps.Marker(), // 클릭한 위치를 표시할 마커입니다
			infowindow = new kakao.maps.InfoWindow({
				zindex : 1
			}); // 클릭한 위치에 대한 주소를 표시할 인포윈도우입니다

			// 현재 지도 중심좌표로 주소를 검색해서 지도 좌측 상단에 표시합니다
			searchAddrFromCoords(map.getCenter(), displayCenterInfo);

			// 중심 좌표나 확대 수준이 변경됐을 때 지도 중심 좌표에 대한 주소 정보를 표시하도록 이벤트를 등록합니다
			kakao.maps.event.addListener(map, 'idle', function() {
				searchAddrFromCoords(map.getCenter(), displayCenterInfo);
			});

			function searchAddrFromCoords(coords, callback) {
				// 좌표로 행정동 주소 정보를 요청합니다
				geocoder.coord2RegionCode(coords.getLng(), coords.getLat(),
						callback);
			}

			function searchDetailAddrFromCoords(coords, callback) {
				// 좌표로 법정동 상세 주소 정보를 요청합니다
				geocoder.coord2Address(coords.getLng(), coords.getLat(),
						callback);
			}

			// 지도 좌측상단에 지도 중심좌표에 대한 주소정보를 표출하는 함수입니다
			function displayCenterInfo(result, status) {
				if (status === kakao.maps.services.Status.OK) {
					var infoDiv = document.getElementById('centerAddr');

					for (var i = 0; i < result.length; i++) {
						// 행정동의 region_type 값은 'H' 이므로
						if (result[i].region_type === 'H') {
							infoDiv.innerHTML = result[i].address_name;
							break;
						}
					}
				}
			}

			// 커스텀 오버레이에 표시할 컨텐츠 입니다
			// 커스텀 오버레이는 아래와 같이 사용자가 자유롭게 컨텐츠를 구성하고 이벤트를 제어할 수 있기 때문에
			// 별도의 이벤트 메소드를 제공하지 않습니다
			var content = '<div class="infowrap">'
					+ '    <div class="map_info">'
					+ '        <div class="co_title">'
					+ '            늦재 - 옛길코스'
					+ '            <div class="close" onclick="closeOverlay()" title="닫기"></div>'
					+ '        </div>'
					+ '        <div class="co_body">'
					+ '            <div class="co_img">'
					+ '                <img src="./Neutjae_three-way_intersection.jpg" width="73" height="70">'
					+ '           </div>'
					+ '            <div class="map_desc">'
					+ '                <span class="name">상세구간</span> <span class="con">원효사입구 - 늦재 - 동화사터 - 용추삼거리 - 장불재 - 목교 - 원효사입구 - 목교 - 원효사입구</span><br>'
					+ '                <span class="name">일정</span> <span class="con">당일</span><br>'
					+ '                <span class="name">소요시간</span> <span class="con">09 시간 50분</span>&nbsp;&nbsp;<span class="name">거리</span> <span class="con">10.4km</span>&nbsp;&nbsp;<span class="name">난이도</span> <span class="con">중</span><br>'
					+ '                <span><a href="# 그냥 만들어 봄" target="_blank" class="link">자세히보기</a></span>'
					+ '            </div>' + '        </div>' + '    </div>'
					+ '</div>';

			// 커스텀 오버레이가 표시될 위치입니다 
			var position = new kakao.maps.LatLng(35.149830, 126.919837);

			// 커스텀 오버레이를 생성합니다
			var customOverlay = new kakao.maps.CustomOverlay({
				position : map.getCenter(),
				map : map,
				content : content
			});

			// 커스텀 오버레이를 지도에 표시합니다
			customOverlay.setMap(map);

			// 커스텀 오버레이를 닫기 위해 호출되는 함수입니다 
			function closeOverlay() {
				customOverlay.setMap(null);
			}

			var startSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_b.png', // 출발 마커이미지의 주소입니다    
			startSize = new kakao.maps.Size(50, 45), // 출발 마커이미지의 크기입니다 
			startOption = {
				offset : new kakao.maps.Point(15, 43)
			// 출발 마커이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
			};

			// 출발 마커 이미지를 생성합니다
			var startImage = new kakao.maps.MarkerImage(startSrc, startSize,
					startOption);

			var startDragSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_drag.png', // 출발 마커의 드래그 이미지 주소입니다    
			startDragSize = new kakao.maps.Size(50, 64), // 출발 마커의 드래그 이미지 크기입니다 
			startDragOption = {
				offset : new kakao.maps.Point(15, 54)
			// 출발 마커의 드래그 이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
			};

			// 출발 마커의 드래그 이미지를 생성합니다
			var startDragImage = new kakao.maps.MarkerImage(startDragSrc,
					startDragSize, startDragOption);

			var map_level_Lng1 = 1 + map.getLevel() * -0.000005;
			var map_level_Lng2 = 1 + map.getLevel() * 0.0000035;
			var map_level_Lat1 = 1 + map.getLevel() * -0.00004;
			var map_level_Lat2 = 1 + map.getLevel() * -0.00004;

			// 출발 마커가 표시될 위치입니다 
			var startPosition = new kakao.maps.LatLng(map.getCenter().getLat()
					* map_level_Lat1, map.getCenter().getLng() * map_level_Lng1);

			// 출발 마커를 생성합니다
			var startMarker = new kakao.maps.Marker({
				map : map, // 출발 마커가 지도 위에 표시되도록 설정합니다
				position : startPosition,
				draggable : true, // 출발 마커가 드래그 가능하도록 설정합니다
				image : startImage
			// 출발 마커이미지를 설정합니다
			});

			// 출발 마커에 dragstart 이벤트를 등록합니다
			kakao.maps.event.addListener(startMarker, 'dragstart', function() {
				// 출발 마커의 드래그가 시작될 때 마커 이미지를 변경합니다
				startMarker.setImage(startDragImage);
			});

			// 출발 마커에 dragend 이벤트를 등록합니다
			kakao.maps.event.addListener(startMarker, 'dragend', function() {
				// 출발 마커의 드래그가 종료될 때 마커 이미지를 원래 이미지로 변경합니다
				startMarker.setImage(startImage);
			});

			var arriveSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_b.png', // 도착 마커이미지 주소입니다    
			arriveSize = new kakao.maps.Size(50, 45), // 도착 마커이미지의 크기입니다 
			arriveOption = {
				offset : new kakao.maps.Point(15, 43)
			// 도착 마커이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
			};

			// 도착 마커 이미지를 생성합니다
			var arriveImage = new kakao.maps.MarkerImage(arriveSrc, arriveSize,
					arriveOption);

			var arriveDragSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_drag.png', // 도착 마커의 드래그 이미지 주소입니다    
			arriveDragSize = new kakao.maps.Size(50, 64), // 도착 마커의 드래그 이미지 크기입니다 
			arriveDragOption = {
				offset : new kakao.maps.Point(15, 54)
			// 도착 마커의 드래그 이미지에서 마커의 좌표에 일치시킬 좌표를 설정합니다 (기본값은 이미지의 가운데 아래입니다)
			};

			// 도착 마커의 드래그 이미지를 생성합니다
			var arriveDragImage = new kakao.maps.MarkerImage(arriveDragSrc,
					arriveDragSize, arriveDragOption);

			// 도착 마커가 표시될 위치입니다 
			var arrivePosition = new kakao.maps.LatLng(map.getCenter().getLat()
					* map_level_Lat2, map.getCenter().getLng() * map_level_Lng2);

			// 도착 마커를 생성합니다 
			var arriveMarker = new kakao.maps.Marker({
				map : map, // 도착 마커가 지도 위에 표시되도록 설정합니다
				position : arrivePosition,
				draggable : true, // 도착 마커가 드래그 가능하도록 설정합니다
				image : arriveImage
			// 도착 마커이미지를 설정합니다
			});

			// 도착 마커에 dragstart 이벤트를 등록합니다
			kakao.maps.event.addListener(arriveMarker, 'dragstart', function() {
				// 도착 마커의 드래그가 시작될 때 마커 이미지를 변경합니다
				arriveMarker.setImage(arriveDragImage);
			});

			// 도착 마커에 dragend 이벤트를 등록합니다
			kakao.maps.event.addListener(arriveMarker, 'dragend', function() {
				// 도착 마커의 드래그가 종료될 때 마커 이미지를 원래 이미지로 변경합니다
				arriveMarker.setImage(arriveImage);
			});

			startMarker.setVisible(false);
			arriveMarker.setVisible(false);

			// 토글하면 출발, 도착 마커가 보이거나 안보인다.
			function setST_Markers() {
				startMarker.setVisible(true);
				arriveMarker.setVisible(true);

				if (!STmarker.checked) {
					startMarker.setVisible(false);
					arriveMarker.setVisible(false);
				}
			}
		</script>
</body>
</html>